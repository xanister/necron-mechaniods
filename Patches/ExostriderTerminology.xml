<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- Re-theme ancient exostrider ruins into 40k Mechanicus war engines -->

  <!-- Core hull -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/label</xpath>
    <value>
      <label>ancient Legio war engine hull</label>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/description</xpath>
    <value>
      <description>The fused remains of a massive Legio Cybernetica war engine. Long ago, some high-energy weapon shattered the chassis and welded the sections into a solid mass.\n\nDeep inside, a transponder still pings. If you can extract it, you could decrypt valuable Mechanicus data.\n\nThe promethium weapon cells are intact but unstable, and will likely detonate after you do some damage.</description>
    </value>
  </Operation>

  <Operation Class="PatchOperationConditional">
    <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_ProximityLetter"]/letterLabel</xpath>
    <match Class="PatchOperationReplace">
      <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_ProximityLetter"]/letterLabel</xpath>
      <value>
        <letterLabel>Ancient war engine</letterLabel>
      </value>
    </match>
  </Operation>

  <Operation Class="PatchOperationConditional">
    <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_ProximityLetter"]/letterText</xpath>
    <match Class="PatchOperationReplace">
      <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_ProximityLetter"]/letterText</xpath>
      <value>
        <letterText>Passing near the remains of an ancient Legio Cybernetica war engine, {PAWN_nameDef} noticed an (*Reward)intact transponder(/Reward) inside.\n\nIf you could get the transponder, you could read valuable Mechanicus data from it. The massive engine is smashed and fused into a solid piece. You must destroy it to retrieve the transponder.\n\nBe careful - the promethium weapon cells look (*Threat)unstable(/Threat) and will likely detonate after you do some damage.</letterText>
      </value>
    </match>
  </Operation>

  <Operation Class="PatchOperationConditional">
    <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_InspectString"]/inspectString</xpath>
    <match Class="PatchOperationReplace">
      <xpath>Defs/ThingDef[defName="AncientExostriderRemains"]/comps/li[@Class="CompProperties_InspectString"]/inspectString</xpath>
      <value>
        <inspectString>Contains an ancient Mechanicus transponder.</inspectString>
      </value>
    </match>
  </Operation>

  <!-- Head -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderHead"]/label</xpath>
    <value>
      <label>ancient war engine head</label>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderHead"]/description</xpath>
    <value>
      <description>The ruined head of a massive Legio Cybernetica war engine, blasted apart by high-energy weaponry.</description>
    </value>
  </Operation>

  <!-- Leg -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderLeg"]/label</xpath>
    <value>
      <label>ancient war engine limb</label>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderLeg"]/description</xpath>
    <value>
      <description>A shattered limb from a massive Legio Cybernetica war engine.</description>
    </value>
  </Operation>

  <!-- Cannon -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderCannon"]/label</xpath>
    <value>
      <label>ancient war engine cannon</label>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AncientExostriderCannon"]/description</xpath>
    <value>
      <description>The wrecked back-mounted energy cannon of a massive Legio Cybernetica war engine.</description>
    </value>
  </Operation>

</Patch>
